# Союзмультфильм AR

AR-приложение для создания фотографий с персонажами Союзмультфильма в дополненной реальности.

## Описание

Интерактивное веб-приложение, использующее технологию дополненной реальности для создания фотографий со статуями персонажей Союзмультфильма. Пользователи могут навести камеру на специальные маркеры и сделать фото с анимированными персонажами.

## Возможности

- AR-фотографии с персонажами Союзмультфильма
- Анимированный слой AR для двух групп статуй (Гена, Чебурашка, Шапокляк и Волк)
- Скриншоты с AR-объектами
- Адаптивный дизайн для мобильных устройств
- Быстрая загрузка и оптимизированная производительность

## Технологии

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **AR Framework**: A-Frame, MindAR
- **3D Models**: GLB/GLTF формат
- **Styling**: CSS Grid, Flexbox, Media Queries
- **Server**: Node.js (для локальной разработки)

## Структура проекта

```
soyuzmultpult/
├── css/                    # Стили приложения
│   ├── capture.css        # Стили для popup'ов фотографий
│   ├── scanning.css       # Стили экрана сканирования
│   ├── spinner.css        # Стили загрузки и анимаций
│   └── styles.css         # Основные стили
├── js/                     # JavaScript модули
│   ├── aframe-spritesheet-animation.js  # A-Frame компонент для проигрывания анимаций спрайтшита
│   ├── ar-animations.js    # AR анимации и компоненты
│   ├── capture.js          # Логика создания скриншотов
│   ├── loading-timeout.js  # Таймер загрузки
│   ├── marker-tracker.js   # Отслеживание маркеров
│   └── ui-controls.js      # Управление UI элементами
├── img/                    # Изображения и иконки
│   ├── access_popup.png
│   ├── ar_zone.png
│   ├── button_*.png        # Кнопки интерфейса
│   ├── camera_*.png        # Иконки камеры
│   ├── close_button.png
│   ├── gena_cheba_shapo.png
│   ├── park_photo_01.png
│   ├── Pult.gif           # Анимированный пульт
│   ├── smp_logo_photo.png
│   ├── spinner.png
│   ├── sprite_sheet.jpg   # Спрайт-лист анимации
│   ├── stairs.png
│   ├── ui_background.png
│   ├── volk.png
│   └── vr_illustration.png
├── models/                 # 3D модели персонажей
│   ├── gena-cheba-shapo-model-animated.glb
│   └── volk-model-animated.glb
├── index.html              # Главная страница
├── index.js               # Node.js сервер
├── smp.html               # AR приложение
├── error.html             # Страница ошибки
├── gena-cheba-shapo-volk-scultures_3.mind  # MindAR маркеры
├── soyuzmult.otf          # Шрифт
└── package.json           # Зависимости Node.js
```

## Установка и запуск

### Требования
- Node.js 14+ (для локальной разработки)
- Современный браузер с поддержкой WebGL
- Камера устройства

### Локальная разработка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd soyuzmultpult
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите локальный сервер:
```bash
npm start
```

4. Откройте браузер и перейдите по адресу:
```
http://localhost:3000
```

### Продакшн

Для продакшн-развертывания просто загрузите все файлы на веб-сервер с поддержкой HTTPS (обязательно для доступа к камере).

**Поддерживаемые платформы:**
- GitHub Pages
- Netlify
- Vercel
- Render
- Любой статический хостинг с HTTPS

## Использование

1. Откройте приложение в мобильном браузере
2. Разрешите доступ к камере
3. Наведите камеру на маркер или скульптуру с персонажами
4. Дождитесь появления 3D-модели
5. Нажмите кнопку съемки для создания фото
6. Сохраните фотографию на устройство

## Поддерживаемые браузеры

- Chrome 80+ (Android/iOS)
- Safari 13+ (iOS)
- Firefox 75+ (Android)

## Особенности

- **Мобильная оптимизация**: Приложение оптимизировано для мобильных устройств
- **Адаптивность**: Поддержка различных размеров экранов
- **Производительность**: Оптимизированные 3D-модели и текстуры

## Разработка

### Добавление новых персонажей

1. Подготовьте 3D-модель в формате GLB
2. Добавьте модель в папку `models/`
3. Создайте новый маркер в `sculptures.mind`
4. Обновите `smp.html` с новым маркером

### Архитектура JavaScript

Проект использует модульную архитектуру с разделением ответственности:

#### Основные модули:
- **`capture.js`** - Логика создания скриншотов AR сцены, обработка кнопок загрузки
- **`ui-controls.js`** - Управление UI элементами (access popup, карусель изображений)
- **`ar-animations.js`** - A-Frame компонент для управления анимациями 3D моделей
- **`loading-timeout.js`** - Автоматический переход на страницу ошибки при зависании
- **`aframe-spritesheet-animation.js`** - Компонент для проигрывания спрайт-анимаций
- **`marker-tracker.js`** - Отслеживание AR маркеров

#### Структура HTML:
- **`index.html`** - Главная страница с навигацией
- **`smp.html`** - Основное AR приложение с модульной структурой
- **`error.html`** - Страница обработки ошибок

### Кастомизация стилей

Все стили находятся в папке `css/`. Основные файлы:
- `styles.css` - базовые стили главной страницы
- `capture.css` - стили popup'ов фотографий
- `scanning.css` - стили экрана сканирования
- `spinner.css` - стили загрузки и анимаций

## Лицензия

Проект разработан для Союзмультпарка.

## Авторы

- **Павел Ефремов** - разработка, дизайн, идея
- **Ричард Паньков** - идея, менеджмент

## Поддержка

При возникновении проблем или вопросов обращайтесь к команде разработки.

---

*Создано с ❤️ для Союзмультфильм парка*
